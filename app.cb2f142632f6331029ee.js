webpackJsonp([27],{"0mFI":function(t,e,n){t.exports=n.p+"static/img/iconfriend.b99b827.png"},"1IVw":function(t,e,n){t.exports=n.p+"static/img/icon-dark.0ca6e4e.png"},"34+y":function(t,e){},BMV4:function(t,e){},CcXR:function(t,e){},HLTQ:function(t,e,n){t.exports=n.p+"static/img/iconcard.d438877.png"},LulZ:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("CcXR");var s=n("fKbY"),i=n.n(s),a=(n("ehhp"),n("NVmV")),o=n.n(a),r=(n("BMV4"),n("LulZ"),n("gvqi"),n("v5o6")),u=n.n(r),c=n("wvfG"),d=n.n(c),h=n("4vvA"),l=n.n(h),p=n("dBH0"),m={data:function(){return{isPopupTab:1,text:"内容",shareModal:!1,item:"",isFriend:"",articleId:""}},methods:{close:function(){this.$store.state.share.show=!1,this.$setTab(!0,this.$store.state.hide.tabIndex,this.$store.state.hide.homeIndex)},shareClick:function(t){0!=t&&this.$setTab(!0,this.$store.state.hide.tabIndex,this.$store.state.hide.homeIndex);var e=this.item;0==t?this.$eventTrack({event:"saveShareCard",position:this.isFriend?"friend":"square"}).then({}):this.$eventTrack({event:"shareMoment",position:this.isFriend?"friend":"square",momentId:e.id,momentStatus:e.status,momentAllowAddOne:e.allowAddOne,momentAllowComment:e.allowComment,releaseMomentUserId:e.userId,releaseMomentUsername:e.nickname}).then({});var n="https://ts120.immaohao.com/squareDetails/"+this.articleId+"?token="+localStorage.getItem("token"),s=2==t?e.text:"分享一个来自脱水app的思考给你",i=e.text,a=1==e.status?"http://static.zhishisenlin.com/static/img/icon-photo.png?imageView2/1/w/50/h/50/":e.images.length>0?e.images[0]+"?imageView2/1/w/50/h/50/":e.headImgUrl+"?imageView2/1/w/50/h/50/",o=localStorage.getItem("end");if(this.$store.state.share.show=!1,0==t)this.$jumpLink({path:"/share/"+this.articleId});else if(1==t)if("android"==o)window.AndroidInterface.share(n,s,i,a,0,0);else if("iOS"==o)try{share(n,s,i,a,0,0)}catch(t){window.webkit.messageHandlers.share.postMessage([n,s,i,a,0,0])}else alert("网页版暂不支持分享功能，请下载app使用");else if("android"==o)window.AndroidInterface.share(n,s,i,a,1,0);else if("iOS"==o)try{share(n,s,i,a,0,0)}catch(t){window.webkit.messageHandlers.share.postMessage([n,s,i,a,1,0])}else alert("网页版暂不支持分享功能，请下载app使用")}},mounted:function(){},computed:{isShareShow:function(){return this.$store.state.share.show}},watch:{isShareShow:function(){this.$store.state.share.show?(this.shareModal=!0,this.item=this.$store.state.share.item,this.isFriend=this.$store.state.share.isFriend,this.articleId=this.$store.state.share.articleId):this.shareModal=!1}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":function(e){t.close()}},model:{value:t.shareModal,callback:function(e){t.shareModal=e},expression:"shareModal"}},[1==t.isPopupTab?s("div",{staticClass:"popup-card more-cont"},[s("p",{on:{click:function(e){t.shareClick(0)}}},[s("i",[s("img",{attrs:{src:n("HLTQ"),alt:""}})]),t._v("生成卡片\n    ")]),t._v(" "),s("p",{on:{click:function(e){t.shareClick(1)}}},[s("i",[s("img",{attrs:{src:n("gdEd"),alt:""}})]),t._v("微信好友\n    ")]),t._v(" "),s("p",{on:{click:function(e){t.shareClick(2)}}},[s("i",[s("img",{attrs:{src:n("0mFI"),alt:""}})]),t._v("朋友圈\n    ")])]):t._e()])},staticRenderFns:[]};var g=n("VU/8")(m,f,!1,function(t){n("eW0E")},"data-v-5f2aac44",null).exports,v=n("UZOZ"),b=n("o6RA"),y=document.documentElement.clientWidth,w={data:function(){return{isTransition:!0,isDebug:!1,bugInfo:"",isUpdataState:!1,updateStatus:0,itemData:null,isPopup:!1,isPopupTab:0,unseenType:"",actions:[{name:"您确定要取消关注吗？"},{name:"确认",method:this.delLike}],uploadMessage:"",uploadPross:10,uploadingTop:null,isIndex:!0,photo:"",end:localStorage.getItem("end"),touchLeft:y,touchStartPoint:0,touchStartPointY:0,touchPoint:0,distance:0,backBtn:null}},mounted:function(){var t=this;window.setStatusBarRect=function(e){t.setStatusBarRect(e)},window.setSystemInfo=function(e){t.setSystemInfo(e)},window.setVersion=function(e){t.setVersion(e)},this.getStatusBarRect(),this.getSystemInfo(),this.getVersion()},components:{vShare:g,updataState:v.a},methods:{beforeLeave:function(){},enter:function(){"slide"!=this.$store.state.hide.transitionName&&(this.$store.state.hide.transitionName="slide-left")},close:function(){this.$store.state.report.show=!1,this.$setTab(!0,this.$store.state.hide.tabIndex,this.$store.state.hide.homeIndex)},bodyTouchStart:function(t){this.backBtn=document.getElementById("navback"),this.backBtn&&(this.touchStartPoint=t.targetTouches[0].pageX,this.touchStartPointY=t.targetTouches[0].pageY,this.distance=0)},bodyTouchMove:function(t){if(this.backBtn&&this.touchStartPoint<this.touchLeft){if(t.targetTouches.length>1)return;this.touchPoint=t.targetTouches[0].pageY-this.touchStartPointY,this.distance=t.targetTouches[0].pageX-this.touchStartPoint}},bodyTouchEnd:function(){this.backBtn&&this.touchPoint<60&&this.touchPoint>-60&&(this.touchStartPoint=0,this.distance>100&&(this.$router.back(),setTimeout(function(){},250)))},delLike:function(){this.close(),this.$store.state.report.delLike=!1,this.$store.state.report.isDelLike=!0},childData:function(t){2==t.num&&(this.isUpdataState=!1,this.$store.state.report.show=!1,this.$setTab(!0,this.$store.state.hide.tabIndex,this.$store.state.hide.homeIndex)),3==t.num&&(this.$store.state.report.updata=t.radio,this.$setTab(!0,this.$store.state.hide.tabIndex,this.$store.state.hide.homeIndex),this.isUpdataState=!1),5==t.num&&this.reportFun(t)},del:function(){var t=this,e="";e=this.$store.state.report.data.isComment?"删除评论":"删除想法",this.isPopup=!1,this.isPopupTab=0,this.$dialog.confirm({title:e,message:"此操作无法还原，确定删除？",confirmButtonText:"删除"}).then(function(){t.$setTab(!0,t.$store.state.hide.tabIndex,t.$store.state.hide.homeIndex),t.$store.state.report.data.isComment?t.$store.state.report.del="delComment":t.$store.state.report.del="delDynamic"}).catch(function(){t.$setTab(!0,t.$store.state.hide.tabIndex,t.$store.state.hide.homeIndex),t.$store.state.report.show=!1,t.$store.state.report.del=""})},reportFun:function(t){var e=this;Object(b.b)({momentId:this.itemData.item.id,isShui:t.replyTypeShui?1:0,isSeqing:t.replyTypeSeqing?1:0,isZhengzhi:t.replyTypeZhengzhi?1:0,isRenshen:t.replyTypeRensheng?1:0,isLaji:t.replyTypeLaji?1:0,moreInfo:t.reasons}).then(function(){e.$store.state.report.show=!1,$tsNotice({message:"谢谢你维护脱水社区环境",duration:3e3}),e.childData({num:2}),e.$eventTrack({event:"complainMoment",position:2==e.swith?"friend":"square",momentId:e.itemData.item.id,momentStatus:e.itemData.item.status,momentAllowAddOne:e.itemData.item.allowAddOne,momentAllowComment:e.itemData.item.allowComment,releaseMomentUserId:e.itemData.item.userId,releaseMomentUsername:e.itemData.item.nickname}).then({})})},isUnseen:function(t){if("close"==t)return this.isPopup=!1,this.isPopupTab=0,this.$store.state.report.show=!1,void this.$setTab(!0,this.$store.state.hide.tabIndex,this.$store.state.hide.homeIndex);this.unseenType=t,this.isPopupTab=3},unseen:function(t){var e=this,n=this.itemData.item,s="";"moment"==t?s=n.id:"user"==t?s=n.userId:"shui"==t&&(this.reportFun({replyTypeShui:!0}),this.isPopup=!1),"shui"!=t&&Object(b.c)({shieldType:t,shieldId:s}).then(function(t){1==t.data.code&&(e.$store.state.report.del="delDynamics",$tsNotice({message:"屏蔽成功",duration:2e3}),e.isUnseen("close"))})},getStatusBarRect:function(){"android"==this.end?this.setStatusBarRect('{"topHeight":0, "bottomHeight": 0}'):"iOS"==this.end&&window.webkit.messageHandlers.getStatusBarRect.postMessage(null)},setStatusBarRect:function(t){var e=JSON.parse(t);this.bugInfo=t,this.$store.state.hide.bottom=e.bottomHeight,this.$store.state.hide.top=e.topHeight},getSystemInfo:function(){if("android"==this.end)try{this.setSystemInfo(window.AndroidInterface.getSystemInfo())}catch(t){this.setSystemInfo('{"deviceName":"h5","sysVersion":"h5","deviceUUID":"h5","deviceModel":"h5"}')}else"iOS"==this.end&&window.webkit.messageHandlers.getSystemInfo.postMessage(null)},setSystemInfo:function(t){var e=JSON.parse(t);this.$store.state.version.deviceName=e.deviceName,this.$store.state.version.sysVersion=e.sysVersion,this.$store.state.version.deviceUUID=e.deviceUUID,this.$store.state.version.deviceModel=e.deviceModel},getVersion:function(){"android"==this.end?this.setVersion(window.AndroidInterface.getVersion()):"iOS"==this.end&&window.webkit.messageHandlers.getVersion.postMessage(null)},setVersion:function(t){var e=JSON.parse(t);this.$store.state.version.version=e.version,this.$store.state.version.bundle=e.bundle,this.bugInfo=this.$store.state.version.version+this.$store.state.version.bundle,"android"==this.end&&(this.$store.state.version.channel=e.channel)},toUnicode:function(t){return t.replace(/([\u4E00-\u9FA5]|[\uFE30-\uFFA0])/g,function(){return"\\u"+RegExp.$1.charCodeAt(0).toString(16)})},getMyInfo:function(){var t=this;Object(p.p)({}).then(function(e){var n=e.data.result;1==e.data.code&&(t.photo=n.headImgUrl)})},goHome:function(){var t=window.location.href;this.$buildLog({event:"clickGoHome",pagePath:t}).then({}),this.$router.push("/")}},created:function(){},computed:{listenstage:function(){return this.$store.state.uploading.show},reportShow:function(){return this.$store.state.report.show},reportData:function(){return this.$store.state.report.data},isDelLike:function(){return this.$store.state.report.delLike}},watch:{isDelLike:function(){0==this.$store.state.report.delLike&&this.close()},listenstage:function(){this.$store.state.uploading.show&&this.getMyInfo()},reportShow:function(){this.isPopup=this.$store.state.report.show},reportData:function(){this.itemData=this.$store.state.report.data,this.itemData.isComment?this.isPopupTab=4:this.itemData.isMine?this.isPopupTab=1:this.isPopupTab=2},$route:function(t,e){this.$store.commit("routeId"),this.$store.commit("routeHistory",{to:t,from:e}),t.meta.isTab?this.$store.state.hide.tabHei=60:this.$store.state.hide.tabHei=0,-1!=t.path.indexOf("squareDetails")?this.$store.state.hide.isNotNetwork=!1:this.$store.state.hide.isNotNetwork=!0,-1!=e.path.indexOf("squareDetails")&&"/"==t.path||-1!=e.path.indexOf("squareDetails")&&-1!=t.path.indexOf("tagDetail")||-1!=e.path.indexOf("squareDetails")&&-1!=t.path.indexOf("myHome")?this.$store.state.hide.transitionName="slide-right":-1!=t.path.indexOf("squareDetails")&&"/"==e.path||-1!=t.path.indexOf("squareDetails")&&-1!=e.path.indexOf("tagDetail")||-1!=t.path.indexOf("squareDetails")&&-1!=e.path.indexOf("myHome")?this.$store.state.hide.transitionName="slide-left":this.$store.state.hide.transitionName="slide","/"==this.$route.path?(this.isIndex=!1,this.uploadingTop=!0):"/index"==this.$route.path?this.isIndex=!1:"/message"==this.$route.path?this.uploadingTop=!0:"/road"==this.$route.path?this.isIndex=!1:-1!=this.$route.path.indexOf("customized")?this.isIndex=!1:(this.isIndex=!0,this.uploadingTop=!1)}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-box",attrs:{id:"app"},on:{touchstart:t.bodyTouchStart,touchmove:t.bodyTouchMove,touchend:t.bodyTouchEnd}},[s("transition",{attrs:{name:t.$store.state.hide.transitionName},on:{"before-leave":t.beforeLeave,enter:t.enter}},[s("keep-alive",[t.$route.meta.keepAlive?s("router-view",{staticClass:"appView"}):t._e()],1)],1),t._v(" "),s("transition",{attrs:{name:t.$store.state.hide.transitionName},on:{"before-leave":t.beforeLeave}},[t.$route.meta.keepAlive?t._e():s("router-view",{staticClass:"appView"})],1),t._v(" "),t._m(0),t._v(" "),t.$store.state.uploading.show?s("div",{staticClass:"uploading",class:{success:"发布成功"==t.$store.state.uploading.message,fail:"发布失败"==t.$store.state.uploading.message},style:{paddingBottom:0!=this.$store.state.hide.tabHei&&"android"==t.end?"calc(0rem + "+this.$store.state.hide.tabHei+"px)":null}},["正在发布"!=t.$store.state.uploading.message?s("h4",[t._v("\n        "+t._s(t.$store.state.uploading.message)+"\n        "),"发布失败"==t.$store.state.uploading.message?s("span",[s("img",{attrs:{src:n("zGzS"),alt:""}})]):t._e(),t._v(" "),"发布失败"==t.$store.state.uploading.message?s("span",[s("img",{attrs:{src:n("z6VI"),alt:""}})]):t._e()]):t._e(),t._v(" "),"正在发布"==t.$store.state.uploading.message?s("div",[s("span",{style:"width:"+t.$store.state.uploading.progress+"%"})]):t._e()]):t._e(),t._v(" "),s("v-share"),t._v(" "),s("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":function(e){t.close()}},model:{value:t.isPopup,callback:function(e){t.isPopup=e},expression:"isPopup"}},[1==t.isPopupTab?s("div",{staticClass:"popup-card more-cont",style:{paddingBottom:0!=this.$store.state.hide.tabHei?"calc(0rem + "+this.$store.state.hide.tabHei+"px)":null}},[s("p",{on:{click:function(){t.isUpdataState=!0,t.updateStatus=1,t.isPopup=!1,t.isPopupTab=0}}},[t._v("修改动态权限")]),t._v(" "),s("p",{staticClass:"red",on:{click:function(e){t.del()}}},[t._v("删除动态")])]):t._e(),t._v(" "),2==t.isPopupTab?s("div",{staticClass:"popup-card more-cont",style:{paddingBottom:0!=this.$store.state.hide.tabHei?"calc(0rem + "+this.$store.state.hide.tabHei+"px)":null}},[s("p",{on:{click:function(e){t.unseen("shui")}}},[t._v("该内容太水")]),t._v(" "),s("p",{on:{click:function(){t.isUpdataState=!0,t.updateStatus=3,t.isPopup=!1,t.isPopupTab=0}}},[t._v("举报该内容")]),t._v(" "),s("p",{on:{click:function(e){t.isUnseen("moment")}}},[t._v("屏蔽该内容")]),t._v(" "),s("p",{on:{click:function(e){t.isUnseen("user")}}},[t._v("屏蔽该用户的所有内容")])]):t._e(),t._v(" "),4==t.isPopupTab?s("div",{staticClass:"popup-card more-cont",style:{paddingBottom:0!=this.$store.state.hide.tabHei?"calc(0rem + "+this.$store.state.hide.tabHei+"px)":null}},[s("p",{staticClass:"red",on:{click:function(e){t.del()}}},[t._v("删除评论")])]):t._e(),t._v(" "),3==t.isPopupTab?s("div",{staticClass:"popup-card unseen-div"},[s("h3",[t._v("确定屏蔽这位脱友么？")]),t._v(" "),s("p",[t._v("刷新列表之后就可以屏蔽上面的内容了")]),t._v(" "),s("button",{attrs:{type:"button",name:"button"},on:{click:function(e){t.unseen(t.unseenType)}}},[t._v("屏！立刻")]),t._v(" "),s("button",{attrs:{type:"button",name:"button"},on:{click:function(e){t.isUnseen("close")}}},[t._v("我再想想")])]):t._e()]),t._v(" "),t.isUpdataState?s("updataState",{attrs:{updateStatus:t.updateStatus,parentData:{radio:t.itemData.item.status}},on:{tabFun:t.childData}}):t._e(),t._v(" "),s("div",{staticClass:"ts-notice",class:{act:t.$store.state.ts.notice.show},style:{paddingTop:0!=this.$store.state.hide.top?"calc(0.32rem + "+this.$store.state.hide.top+"px)":null}},[t._v("\n      "+t._s(t.$store.state.ts.notice.value)+"\n    ")]),t._v(" "),s("mt-actionsheet",{attrs:{actions:t.actions},model:{value:t.$store.state.report.delLike,callback:function(e){t.$set(t.$store.state.report,"delLike",e)},expression:"$store.state.report.delLike"}}),t._v(" "),t.isDebug?s("div",{staticClass:"debug"},[t._v("\n      "+t._s(t.bugInfo)+"\n    ")]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-container hide modal"},[e("div",{staticClass:"loading"},[e("div",{staticClass:"loading-text"},[this._v("加载中···")])]),this._v(" "),e("div",{staticClass:"loading-mask"})])}]};var $=n("VU/8")(w,T,!1,function(t){n("qLnM")},null,null).exports,S=n("aKla"),k=new VueRouter({mode:"history",routes:[].concat([{path:"/",meta:{index:0,keepAlive:!0,isTab:!0},component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("a/FQ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/login",meta:{index:1},component:function(t){return Promise.all([n.e(0),n.e(15)]).then(function(){var e=[n("Ntyz")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/squareDetails/:id",meta:{index:1,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(20)]).then(function(){var e=[n("lhSe")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/myHome/:id",meta:{index:2,keepAlive:!0,tabNum:2},component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){var e=[n("JK15")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/sendDynamic",meta:{index:1,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("MSXm")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/message",meta:{index:1,isTab:!0,tabNum:1},component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("uWSM")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/notice",meta:{index:1,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(14)]).then(function(){var e=[n("W7vR")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/code",meta:{index:1,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){var e=[n("oLBh")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/follow/:id/:name",meta:{index:3,isTab:!1,keepAlive:!0,isBack:!1},component:function(t){return Promise.all([n.e(0),n.e(18)]).then(function(){var e=[n("7Jzd")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/unfollow/:id",meta:{index:3,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(21)]).then(function(){var e=[n("0mxq")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/friendList/:id",meta:{index:3,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(23)]).then(function(){var e=[n("udyW")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/tagDetail/:name",meta:{index:1,isTab:!1,keepAlive:!0,isBack:!1},component:function(t){return Promise.all([n.e(0),n.e(10)]).then(function(){var e=[n("/JG1")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/share/:id",meta:{index:0,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){var e=[n("nfsQ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/bootCard",meta:{index:0,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(5)]).then(function(){var e=[n("FzFG")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/feedback",meta:{index:2,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){var e=[n("aYKq")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/editUserInfo",meta:{index:2,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(12)]).then(function(){var e=[n("0Ost")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/fillInfo",meta:{index:2,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(13)]).then(function(){var e=[n("2RKX")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/search",meta:{index:1,isTab:!1,keepAlive:!0,isBack:!1},component:function(t){return Promise.all([n.e(0),n.e(16)]).then(function(){var e=[n("JDFc")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/city",meta:{index:3,isTab:!0},component:function(t){return Promise.all([n.e(0),n.e(25)]).then(function(){var e=[n("U59D")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/unlockFriends",meta:{index:3,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(9)]).then(function(){var e=[n("iZsG")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/unlockCard",meta:{index:5,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(19)]).then(function(){var e=[n("wSKh")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/linkDetails",meta:{index:3,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(24)]).then(function(){var e=[n("MEKW")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/genderExplain",meta:{index:5,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(22)]).then(function(){var e=[n("HezQ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/reply",meta:{index:0,isTab:!1},component:function(t){return n.e(0).then(function(){var e=[n("p/34")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/recommendedTopics",meta:{index:5,isTab:!1},component:function(t){return Promise.all([n.e(0),n.e(17)]).then(function(){var e=[n("jft1")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],[{path:"/myTeam",meta:{index:5,isTab:!1},component:function(t){return n.e(11).then(function(){var e=[n("a1vt")];t.apply(null,e)}.bind(this)).catch(n.oe)}}])}),I=function(t,e){S.a.defaults.headers.common.token=t,S.a.defaults.headers.common.end=e};k.beforeEach(function(t,e,n){NProgress.start(),-1!=t.path.indexOf("myHome")&&(0==t.params.id?(t.meta.isTab=!0,t.meta.tabNum=2):(t.meta.isTab=!0,t.meta.tabNum=0));var s=localStorage.getItem("end"),i=0;if(t.meta.tabNum&&(i=t.meta.tabNum),0==t.meta.isTab?"iOS"==s?window.webkit.messageHandlers.setTabs.postMessage([!1,i,0]):"android"==s&&window.AndroidInterface2.setTabs(!1,i,0):"iOS"==s?window.webkit.messageHandlers.setTabs.postMessage([!0,i,0]):"android"==s&&window.AndroidInterface2.setTabs(!0,i,0),t.query.token&&0==t.path.indexOf("/squareDetails"))I(t.query.token,"wx"),n();else{var a=t.query.end||localStorage.getItem("end")||"h5";a&&localStorage.setItem("end",a);var o=localStorage.getItem("token"),r=localStorage.getItem("end");if(o&&r)I(o,r),n();else{var u=t.query.token,c=a;if("/login"==t.path||"/city"==t.path)n();else if(u&&c){var d=t.path;localStorage.setItem("token",u),localStorage.setItem("end",c),localStorage.setItem("userId",t.query.userId),I(u,c),k.replace({path:d,replace:!0})}else{var h=localStorage.getItem("end");"iOS"==h?window.webkit.messageHandlers.backLogin.postMessage(null):"android"==h?window.AndroidInterface.backLogin():"h5"==h&&window.webkit.messageHandlers.backLogin.postMessage(null)}}}}),k.onError(function(t){var e=t.message.match(/Loading chunk (\d)+ failed/g),n=k.history.pending.fullPath;e&&k.replace(n)}),k.afterEach(function(){NProgress.done()}),Vue.use(VueRouter);var x=k,_=n("YtJ0"),O=n("ycTW");Vue.use(d.a),Vue.use(VueLazyload,{preLoad:1.3,error:"https://tuoshui.immaohao.com/static/img/img-loading.png",loading:"https://tuoshui.immaohao.com/static/img/img-loading.png",attempt:1}),Vue.prototype.$vantToast=l.a,Vue.component(o.a.name,o.a),Vue.component(i.a.name,i.a),u.a.attach(document.body),Vue.config.productionTip=!1,Vue.prototype.$eventTrack=O.c,Vue.prototype.$jumpLink=O.f,Vue.prototype.$showModal=O.h,Vue.prototype.$hideModal=O.e,Vue.prototype.$autoTextarea=O.b,Vue.prototype.$goMain=O.d,Vue.prototype.$setTab=O.g,Vue.prototype.$timeFormat=O.j,Vue.prototype.$textFocus=O.i,Vue.prototype.$https="https://api.immaohao.com/api/wx/getQRCode?url=",new Vue({router:x,store:_.a,render:function(t){return t($)}}).$mount("#app")},UZOZ:function(t,e,n){"use strict";var s={data:function(){return{isInput:!0,seeStatus:1,commentChecked:!1,oneChecked:!1,reasons:"",replyTypeSeqing:!1,replyTypeZhengzhi:!1,replyTypeRensheng:!1,replyTypeLaji:!1,clientHeight:document.documentElement.clientHeight}},props:["updateStatus","parentData"],methods:{tabFun:function(){this.$emit("tabFun",{num:2})},complete:function(){switch(this.updateStatus){case 1:this.$emit("tabFun",{num:3,radio:this.seeStatus});break;case 2:this.$emit("tabFun",{num:4,checked1:this.commentChecked,checked2:this.oneChecked});break;case 3:this.$emit("tabFun",{num:5,reasons:this.reasons,replyTypeSeqing:this.replyTypeSeqing,replyTypeZhengzhi:this.replyTypeZhengzhi,replyTypeRensheng:this.replyTypeRensheng,replyTypeLaji:this.replyTypeLaji}),this.replyTypeSeqing=!1,this.replyTypeZhengzhi=!1,this.replyTypeRensheng=!1,this.replyTypeLaji=!1,this.reasons=""}}},mounted:function(){var t=this;if("android"==localStorage.getItem("end")&&(window.onresize=function(){t.clientHeight>document.documentElement.clientHeight?t.isInput=!1:t.isInput=!0}),this.$setTab(!1,0,0),3==this.updateStatus){var e=this.$refs.textarea;this.$autoTextarea(e)}this.parentData&&(this.seeStatus=this.parentData.radio,this.commentChecked=this.parentData.checked1,this.oneChecked=this.parentData.checked2)}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"updateStatus"},[s("div",{staticClass:"title",style:{top:0!=this.$store.state.hide.top?"calc(0rem + "+this.$store.state.hide.top+"px)":null}},[s("span",{on:{click:t.tabFun}},[s("img",{attrs:{src:n("1IVw"),alt:""}})]),t._v(" "),s("h2",[t._v(t._s(1==t.updateStatus?"谁能看到":2==t.updateStatus?"互动设置":3==t.updateStatus?"举报":null))]),t._v(" "),3==t.updateStatus?s("span",{on:{click:t.complete}},[t._v("提交")]):s("span",{on:{click:function(e){t.complete()}}},[t._v("完成")])]),t._v(" "),s("div",{staticClass:"cont",style:{paddingTop:0!=this.$store.state.hide.top?"calc(0.2rem + "+this.$store.state.hide.top+"px)":null}},[1==t.updateStatus?s("div",[s("p",[t._v("谁能看到（发布后还可以随时更改权限）")]),t._v(" "),s("ul",{staticClass:"see-status"},[s("li",{class:{act:0==t.seeStatus},on:{click:function(e){t.seeStatus=0}}},[s("h3",[t._v("广场公开")]),t._v(" "),s("p",[t._v("想法将发至脱水的思考者广场")])]),t._v(" "),s("li",{class:{act:1==t.seeStatus},on:{click:function(e){t.seeStatus=1}}},[s("h3",[t._v("广场匿名")]),t._v(" "),s("p",[t._v("想法将以匿名者身份发到广场")])]),t._v(" "),s("li",{class:{act:2==t.seeStatus},on:{click:function(e){t.seeStatus=2}}},[s("h3",[t._v("好友可见")]),t._v(" "),s("p",[t._v("想法将只会发至你的好友星球")])]),t._v(" "),s("li",{class:{act:3==t.seeStatus},on:{click:function(e){t.seeStatus=3}}},[s("h3",[t._v("仅自己可见")]),t._v(" "),s("p",[t._v("想法将只会发至你的自己星球")])])])]):t._e(),t._v(" "),3==t.updateStatus?s("div",[t.isInput?s("ul",{staticClass:"see-status"},[s("li",{class:{act:t.replyTypeSeqing},on:{click:function(e){t.replyTypeSeqing=!t.replyTypeSeqing}}},[s("h3",[t._v("色情")])]),t._v(" "),s("li",{class:{act:t.replyTypeZhengzhi},on:{click:function(e){t.replyTypeZhengzhi=!t.replyTypeZhengzhi}}},[s("h3",[t._v("政治反动")])]),t._v(" "),s("li",{class:{act:t.replyTypeRensheng},on:{click:function(e){t.replyTypeRensheng=!t.replyTypeRensheng}}},[s("h3",[t._v("人身攻击")])]),t._v(" "),s("li",{class:{act:t.replyTypeLaji},staticStyle:{border:"0"},on:{click:function(e){t.replyTypeLaji=!t.replyTypeLaji}}},[s("h3",[t._v("垃圾信息")])])]):t._e(),t._v(" "),s("div",{staticClass:"other-reasons"},[s("span",[t._v("其它原因")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reasons,expression:"reasons"}],ref:"textarea",attrs:{name:"name",placeholder:"填写"},domProps:{value:t.reasons},on:{focus:function(e){t.isInput=!1},blur:function(e){t.isInput=!0},input:function(e){e.target.composing||(t.reasons=e.target.value)}}})])]):t._e(),t._v(" "),2==t.updateStatus?s("div",[s("p",[t._v("互动设置（发布后不能再更改了）")]),t._v(" "),s("ul",{staticClass:"hd-status"},[s("li",{class:{act:1==t.seeStatus},on:{click:function(e){t.seeStatus=1}}},[s("h3",[t._v("关闭评论")]),t._v(" "),s("p",[t._v("别人无法评论这条想法")]),t._v(" "),s("span",{staticClass:"ts-switch",class:{act:t.commentChecked},on:{click:function(e){t.commentChecked=!t.commentChecked}}},[s("i")])]),t._v(" "),s("li",{class:{act:2==t.seeStatus},on:{click:function(e){t.seeStatus=2}}},[s("h3",[t._v("关闭+1")]),t._v(" "),s("p",[t._v("别人无法对这条想法表示赞同")]),t._v(" "),s("span",{staticClass:"ts-switch",class:{act:t.oneChecked},on:{click:function(e){t.oneChecked=!t.oneChecked}}},[s("i")])])])]):t._e()])])},staticRenderFns:[]};var a=n("VU/8")(s,i,!1,function(t){n("uSPX")},"data-v-9cc44be0",null);e.a=a.exports},YtJ0:function(t,e,n){"use strict";var s,i=n("lRwf"),a=n.n(i),o=n("NYxO"),r=n("bOdI"),u=n.n(r),c={state:{ajaxCount:0,tabIndex:0,savedPosition:0},mutations:(s={},u()(s,"AJAXCOUNT",function(t,e){return t.ajaxCount=e}),u()(s,"TABINDEX",function(t,e){return t.tabIndex=e}),u()(s,"SAVEDPOSITION",function(t,e){return t.savedPosition=e}),s),getters:{ajaxCount:function(t){return t.ajaxCount},tabIndex:function(t){return t.tabIndex},savedPosition:function(t){return t.savedPosition}}},d={state:{routeHistory:[],routeFrom:[],routeTo:[],routeId:-1},mutations:{routeFrom:function(t,e){return t.routeFrom=e},routeTo:function(t,e){return t.routeTo=e},routeId:function(t){return t.routeId++},routeHistory:function(t,e){e.routeId=t.routeId,t.routeHistory.push(e)}},getters:{routeHistory:function(t){return t.routeHistory},routeFrom:function(t){return t.routeFrom},routeId:function(t){return t.routeId},routeTo:function(t){return t.routeTo}}};a.a.use(o.a);e.a=new o.a.Store({modules:{mutations:c,uploading:{state:{show:!1,message:"正在发布",progress:0}},hide:{state:{show:!0,top:44,bottom:30,tabHei:0,homeIndex:0,tabIndex:0,isNotNetwork:!0,isFriendList:!1,transitionName:"slide-left"}},reply:{state:{show:!1,type:0,detailsList:[],commitList:[],recommentId:0,recommentName:"",recommentText:"",commentVal:"",isAnonymous:!1,isMydata:!0}},version:{state:{version:"",bundle:"",deviceName:"",sysVersion:"",deviceUUID:"",deviceModel:"",channel:""}},share:{state:{show:!1,item:"",isFriend:!1,articleId:0}},report:{state:{show:!1,data:{},updata:-1,del:"",delLike:!1,oldItem:{},isDelLike:!1,currentPage:""}},ts:{state:{notice:{value:"通知",show:!1}}},routeState:d},actions:{}})},aKla:function(t,e,n){"use strict";var s=n("34+y"),i=(n.n(s),n("X+yh")),a=n.n(i),o=n("//Fk"),r=n.n(o),u=n("mtWM"),c=n.n(u),d=n("YtJ0");c.a.interceptors.request.use(function(t){return d.a.commit("AJAXCOUNT",d.a.getters.ajaxCount+1),d.a.getters.ajaxCount,t},function(t){return r.a.reject(t)}),c.a.interceptors.response.use(function(t){if(d.a.commit("AJAXCOUNT",d.a.getters.ajaxCount-1),d.a.getters.ajaxCount,!t.data.success){if("请重新登录"==t.data.failMsg){var e=localStorage.getItem("end");"iOS"==e?window.webkit.messageHandlers.backLogin.postMessage(null):"android"==e?window.AndroidInterface.backLogin():"h5"==e&&window.webkit.messageHandlers.backLogin.postMessage(null)}void 0!=t.data.failMsg&&a()({message:t.data.failMsg,duration:1e3})}return t},function(t){return d.a.commit("AJAXCOUNT",0),r.a.reject(t)}),e.a=c.a},dBH0:function(t,e,n){"use strict";e.k=function(t){return Object(s.a)({url:"/tuoshui/account/editNickname",method:"post",data:t})},e.f=function(t){return Object(s.a)({url:"/tuoshui/account/editHeadImgUrl",method:"post",data:t})},e.d=function(t){return Object(s.a)({url:"/tuoshui/account/editCoverImage",method:"post",data:t})},e.i=function(t){return Object(s.a)({url:"/tuoshui/account/editLocal",method:"post",data:t})},e.c=function(t){return Object(s.a)({url:"/tuoshui/account/editAge",method:"post",data:t})},e.j=function(t){return Object(s.a)({url:"/tuoshui/account/editMbti",method:"post",data:t})},e.e=function(t){return Object(s.a)({url:"/tuoshui/account/editGender",method:"post",data:t})},e.h=function(t){return Object(s.a)({url:"/tuoshui/account/editIntro",method:"post",data:t})},e.l=function(t){return Object(s.a)({url:"/tuoshui/account/editProfession",method:"post",data:t})},e.g=function(t){return Object(s.a)({url:"/tuoshui/account/editIndustry",method:"post",data:t})},e.y=function(t){return Object(s.a)({url:"/tuoshui/userEdu/add",method:"post",data:t})},e.w=function(t){return Object(s.a)({url:"/tuoshui/userBook/add",method:"post",data:t})},e.A=function(t){return Object(s.a)({url:"/tuoshui/userMovie/add",method:"post",data:t})},e.B=function(t){return Object(s.a)({url:"/tuoshui/userMovie/delete",method:"post",data:t})},e.z=function(t){return Object(s.a)({url:"/tuoshui/userEdu/delete",method:"post",data:t})},e.x=function(t){return Object(s.a)({url:"/tuoshui/userBook/delete",method:"post",data:t})},e.p=function(){return Object(s.a)({url:"/tuoshui/account/getMyInfo",method:"get"})},e.o=function(){return Object(s.a)({url:"/tuoshui/account/getMyDetail",method:"get"})},e.r=function(t){return Object(s.a)({url:"/tuoshui/account/getOtherInfo",method:"get",params:t})},e.q=function(t){return Object(s.a)({url:"/tuoshui/account/getOtherDetail",method:"get",params:t})},e.t=function(){return Object(s.a)({url:"/tuoshui/info/mbtiList",method:"get"})},e.m=function(){return Object(s.a)({url:"/tuoshui/info/genderList",method:"get"})},e.u=function(t){return Object(s.a)({url:"/tuoshui/info/overseasCountry",method:"get",params:t})},e.b=function(t){return Object(s.a)({url:"/tuoshui/info/countryAreaCode",method:"get",params:t})},e.v=function(){return Object(s.a)({url:"/tuoshui/info/provinceList",method:"get"})},e.s=function(){return Object(s.a)({url:"/tuoshui/info/industryList",method:"get"})},e.a=function(t){return Object(s.a)({url:"/tuoshui/info/cityList",method:"get",params:t})},e.n=function(t){return Object(s.a)({url:"/tuoshui/account/getInvitation",method:"get",params:t})};var s=n("aKla")},eW0E:function(t,e){},ehhp:function(t,e){},gdEd:function(t,e,n){t.exports=n.p+"static/img/iconwechat.d4f52c4.png"},gvqi:function(t,e){!function t(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=(e=e<320?320:e)*(100/750);n=n>50?50:n,document.documentElement.style.fontSize=n+"px",window.onresize||(window.onresize=function(){var e,n;e=t,n=0,clearTimeout(n),n=setTimeout(function(){e()},300)})}()},lRwf:function(t,e){t.exports=Vue},o6RA:function(t,e,n){"use strict";e.b=function(t){return Object(s.a)({url:"/tuoshui/moment/complain",method:"post",data:t})},e.d=function(t){return Object(s.a)({url:"/tuoshui/moment/updateStatus",method:"post",data:t})},e.c=function(t){return Object(s.a)({url:"/tuoshui/moment/shieldMoment",method:"post",data:t})},e.a=function(t){return Object(s.a)({url:"/tuoshui/feedback/add",method:"post",data:t})};var s=n("aKla")},qLnM:function(t,e){},uSPX:function(t,e){},ycTW:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),e.j=function(){var t=new Date,e=0,n=0;59==t.getMinutes()?(e=t.getHours()+1<10?"0"+t.getHours()+1:t.getHours()+1,n="00"):(e=t.getHours()<10?"0"+t.getHours():t.getHours(),n=t.getMinutes()+1<10?"0"+(t.getMinutes()+1):t.getMinutes()+1);var s=[t.getFullYear(),t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,t.getDate()<10?"0"+t.getDate():t.getDate(),t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()];return s[0]+"-"+s[1]+"-"+s[2]+" "+e+":"+n+":"+s[3]},e.d=function(){var t=localStorage.getItem("end");"iOS"==t?window.webkit.messageHandlers.goMain.postMessage(null):"android"==t&&window.AndroidInterface2.goMain()},e.g=function(t,e,n){var s=localStorage.getItem("end");1==t?setTimeout(function(){"iOS"==s?window.webkit.messageHandlers.setTabs.postMessage([t,e,n]):"android"==s&&window.AndroidInterface2.setTabs(t,e,n)},400):"iOS"==s?window.webkit.messageHandlers.setTabs.postMessage([t,e,n]):"android"==s&&window.AndroidInterface2.setTabs(t,e,n)},e.f=function(t){if(void 0!=t.path)if(void 0!=t.params){var e="";for(var n in t.params)e+="/"+t.params[n];this.$router.push({path:t.path+e})}else void 0!=t.query?this.$router.push({path:t.path,query:t.query}):this.$router.push({path:t.path})},e.b=function(t,e,n){e=e||0;var s=!!document.getBoxObjectFor||"mozInnerScreenX"in window,i=!!window.opera&&!!window.opera.toString().indexOf("Opera"),a=function(e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},o=t.currentStyle?function(e){var n=t.currentStyle[e];if("height"===e&&1!==n.search(/px/i)){var s=t.getBoundingClientRect();return s.bottom-s.top-parseFloat(o("paddingTop"))-parseFloat(o("paddingBottom"))+"px"}return n}:function(e){return getComputedStyle(t,null)[e]},r=parseFloat(o("height"));t.style.resize="none";var u=function(){var a=void 0,u=void 0,c=0,d=t.style;t.length!==t.value.length&&(t.length=t.value.length,s||i||(c=parseInt(o("paddingTop"))+parseInt(o("paddingBottom"))),a=document.body.scrollTop||document.documentElement.scrollTop,t.style.height=r+"px",t.scrollHeight>r&&(n&&t.scrollHeight>n?(u=n-c,d.overflowY="auto"):(u=t.scrollHeight-c,d.overflowY="hidden"),d.height=u+e+"px",a+=parseInt(d.height)-t.currHeight,document.body.scrollTop=a,document.documentElement.scrollTop=a,t.currHeight=parseInt(d.height)))};a("propertychange",u),a("input",u),a("focus",u),u()},e.h=function(){var t=document.querySelector(".Modal");t.classList.contains("hide")&&t.classList.remove("hide")},e.e=function(){var t=document.querySelector(".Modal");t.classList.contains("hide")||t.classList.add("hide")},e.c=function(t){var e=localStorage.getItem("token"),n=localStorage.getItem("end"),s=new Date,a=s.getFullYear(),o=s.getMonth()+1,r=s.getDate(),u=s.getHours(),c=s.getMinutes(),d=s.getSeconds(),h=a+"-"+o+"-"+r+" "+u+":"+c+":"+d;e&&(t.token=e);return t.date=h,t.end=n,t.version=this.$store.state.version.version,t.bundle=this.$store.state.version.bundle,t.deviceName=this.$store.state.version.deviceName,t.sysVersion=this.$store.state.version.sysVersion,t.deviceUUID=this.$store.state.version.deviceUUID,t.deviceModel=this.$store.state.version.deviceModel,t.channel=this.$store.state.version.channel,Object(i.a)({url:"/tuoshui/log/eventTrack",method:"post",data:t})},e.i=function(t){t.target.focus()};var s=n("YtJ0"),i=n("aKla"),a={methods:{getDateDiff:function(t){t=Date.parse(t.replace(/-/gi,"/"));var e=(new Date).getTime()-t,n=e/2592e6,s=e/6048e5,i=e/864e5,a=e/36e5,o=e/6e4;return n>=1?parseInt(n)+"个月前":s>=1?parseInt(s)+"周前":i>=1?parseInt(i)+"天前":a>=1?parseInt(a)+"个小时前":o>=1?parseInt(o)+"分钟前":"刚刚发表"}}};window.$tsNotice=function(t){s.a.state.ts.notice.value=t.message,s.a.state.ts.notice.show=!0,setTimeout(function(){s.a.state.ts.notice.show=!1},t.duration||3e3)}},z6VI:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAFVBMVEUAAAD///////////////////////9Iz20EAAAABnRSTlMA9D3p2lKJ0icSAAAAaklEQVQ4y2MYBaOA/iDYCUKrmGKVNktUAFFMYslYpd3ShECUYloKhhREPFEBpBmoChNAJKCKcGqHqMGpHaIZp3awZtzawZpxawdqJksaYThZTkN4jJxgQQQqOVGCiFACyYFQYhoFo4DuAADZ/BwHSpSO8gAAAABJRU5ErkJggg=="},zGzS:function(t,e,n){t.exports=n.p+"static/img/icon-resend.40b09fa.png"}},["NHnr"]);